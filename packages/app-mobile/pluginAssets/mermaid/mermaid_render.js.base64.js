module.exports = `LyogZ2xvYmFsIG1lcm1haWQgKi8NCg0KZnVuY3Rpb24gbWVybWFpZFJlYWR5KCkgew0KCS8vIFRoZSBNZXJtYWlkIGluaXRpYWxpemF0aW9uIGNvZGUgcmVuZGVycyB0aGUgTWVybWFpZCBjb2RlIHdpdGhpbiBhbnkgZWxlbWVudCB3aXRoIGNsYXNzICJtZXJtYWlkIiBvcg0KCS8vIElEICJtZXJtYWlkIi4gSG93ZXZlciBpbiBzb21lIGNhc2VzIHNvbWUgZWxlbWVudHMgbWlnaHQgaGF2ZSB0aGlzIElEIGJ1dCBub3QgYmUgTWVybWFpZCBjb2RlLg0KCS8vIEZvciBleGFtcGxlLCBNYXJrZG93biBjb2RlIGxpa2UgdGhpczoNCgkvLw0KCS8vICAgICAjIE1lcm1haWQNCgkvLw0KCS8vIFdpbGwgZ2VuZXJhdGUgdGhpcyBIVE1MOg0KCS8vDQoJLy8gICAgIDxoMSBpZD0ibWVybWFpZCI+TWVybWFpZDwvaDE+DQoJLy8NCgkvLyBBbmQgdGhhdCdzIGdvaW5nIHRvIG1ha2UgdGhlIGxpYiBzZXQgdGhlIGBtZXJtYWlkYCBvYmplY3QgdG8gdGhlIEgxIGVsZW1lbnQuDQoJLy8gU28gYmVsb3csIHdlIGRvdWJsZS1jaGVjayB0aGF0IHdoYXQgd2UgaGF2ZSByZWFsbHkgaXMgYW4gaW5zdGFuY2Ugb2YgdGhlIGxpYnJhcnkuDQoJcmV0dXJuIHR5cGVvZiBtZXJtYWlkICE9PSAndW5kZWZpbmVkJyAmJiBtZXJtYWlkICE9PSBudWxsICYmIHR5cGVvZiBtZXJtYWlkID09PSAnb2JqZWN0JyAmJiAhIW1lcm1haWQuaW5pdGlhbGl6ZTsNCn0NCg0KY29uc3QgaXNEYXJrTW9kZSA9ICgpID0+IHsNCgkvLyBJZiBhbnkgbWVybWFpZCBlbGVtZW50cyBhcmUgbWFya2VkIGFzIHJlcXVpcmluZyBkYXJrIG1vZGUsIHJlbmRlciAqYWxsKg0KCS8vIG1lcm1haWQgZWxlbWVudHMgaW4gZGFyayBtb2RlLg0KCXJldHVybiAhIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZXJtYWlkLmpvcGxpbi0tbWVybWFpZC11c2UtZGFyay10aGVtZScpOw0KfTsNCg0KZnVuY3Rpb24gbWVybWFpZEluaXQoKSB7DQoJaWYgKG1lcm1haWRSZWFkeSgpKSB7DQoJCWNvbnN0IG1lcm1haWRUYXJnZXROb2RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21lcm1haWQnKTsNCg0KCQl0cnkgew0KCQkJY29uc3QgZGFya01vZGUgPSBpc0RhcmtNb2RlKCk7DQoJCQltZXJtYWlkLmluaXRpYWxpemUoew0KCQkJCS8vIFdlIGNhbGwgbWVybWFpZC5ydW4gb3Vyc2VsdmVzIHdoZW5ldmVyIHRoZSBub3RlIHVwZGF0ZXMuIERvbid0IGF1dG8tc3RhcnQNCgkJCQlzdGFydE9uTG9hZDogZmFsc2UsDQoNCgkJCQlkYXJrTW9kZSwNCgkJCQl0aGVtZTogZGFya01vZGUgPyAnZGFyaycgOiAnZGVmYXVsdCcsDQoJCQl9KTsNCgkJCW1lcm1haWQucnVuKHsNCgkJCQlub2RlczogbWVybWFpZFRhcmdldE5vZGVzLA0KCQkJfSk7DQoJCX0gY2F0Y2ggKGVycm9yKSB7DQoJCQljb25zb2xlLmVycm9yKCdNZXJtYWlkIGVycm9yJywgZXJyb3IpOw0KCQl9DQoNCgkJLy8gUmVzZXR0aW5nIGVsZW1lbnRzIHNpemUgLSBzZWUgbWVybWFpZC50cw0KCQlmb3IgKGNvbnN0IGVsZW1lbnQgb2YgbWVybWFpZFRhcmdldE5vZGVzKSB7DQoJCQllbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnOw0KCQl9DQoJfQ0KfQ0KDQpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdqb3BsaW4tbm90ZURpZFVwZGF0ZScsICgpID0+IHsNCgltZXJtYWlkSW5pdCgpOw0KfSk7DQoNCmNvbnN0IGluaXRJSURfID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KCWNvbnN0IGlzUmVhZHkgPSBtZXJtYWlkUmVhZHkoKTsNCglpZiAoaXNSZWFkeSkgew0KCQljbGVhckludGVydmFsKGluaXRJSURfKTsNCgkJbWVybWFpZEluaXQoKTsNCgl9DQp9LCAxMDApOw0KDQpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gew0KCS8vIEluIHNvbWUgZW52aXJvbm1lbnRzLCB3ZSBjYW4gbG9hZCBNZXJtYWlkIGltbWVkaWF0ZWx5IChlLmcuIG1vYmlsZSkuDQoJLy8gSWYgd2UgZG9uJ3QgbG9hZCBpdCBpbW1lZGlhdGVseSBpbiB0aGVzZSBlbnZpcm9ubWVudHMsIE1lcm1haWQgc2VlbXMNCgkvLyB0byBpbml0aWFsaXplIGFuZCBhdXRvLXJ1biwgYnV0IHdpdGhvdXQgb3VyIGNvbmZpZ3VyYXRpb24gY2hhbmdlcy4NCglpZiAobWVybWFpZFJlYWR5KCkpIHsNCgkJbWVybWFpZEluaXQoKTsNCgl9IGVsc2Ugew0KCQljbGVhckludGVydmFsKGluaXRJSURfKTsNCgl9DQp9KTsNCg==`;